import{a as _}from"./chunk-5DBMA7CM.js";import{a as P}from"./chunk-KSTDIFV6.js";import{c as x,e as K,g as C,h as y,i as Q,k as X,l as k,m as Y,n as ee,o as te,p as oe,q as w,s as re,t as p,u as ie}from"./chunk-EXH2BBGN.js";import{Da as h,Ha as Z,P as c,Qa as l,Ra as a,Sa as n,T as d,Ta as v,U,Wa as F,Xa as m,Ya as E,Z as N,_ as H,a as B,b as W,bb as b,ea as J,jb as $,mb as q,o as z,oa as f,s as O,ta as u,x as G,ya as s,z as I}from"./chunk-AMTD2DMX.js";var S=class e{constructor(o,t){this.authService=o;this.router=t}canActivate(){return this.authService.isLoggedIn().pipe(O(o=>o?!0:(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(t){return new(t||e)(d(_),d(p))};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};var g=class e{constructor(o,t){this.authService=o;this.router=t}canActivate(){return this.authService.isLoggedIn().pipe(O(o=>o?(this.router.navigate(["/dashboard"]),!1):!0))}static \u0275fac=function(t){return new(t||e)(d(_),d(p))};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};var ae=()=>{let e=U(P);return G({categories:e.getCategories(),continueWatching:e.getContinueWatching()})};var A=class e{constructor(o){this.videoService=o}resolve(o){let t=o.paramMap.get("id");if(!t)return z(null);let r=+t;return this.videoService.getVideoById(r)}static \u0275fac=function(t){return new(t||e)(d(P))};static \u0275prov=c({token:e,factory:e.\u0275fac,providedIn:"root"})};var se=[{path:"",loadComponent:()=>import("./chunk-2HJFSW5L.js").then(e=>e.Startpage),canActivate:[g]},{path:"signup",loadComponent:()=>import("./chunk-3JI75MSU.js").then(e=>e.Signup),canActivate:[g]},{path:"login",loadComponent:()=>import("./chunk-WCEREQBG.js").then(e=>e.Login),canActivate:[g]},{path:"imprint",loadComponent:()=>import("./chunk-EHZWIXDQ.js").then(e=>e.Imprint)},{path:"legalnotice",loadComponent:()=>import("./chunk-PBFAF7SF.js").then(e=>e.Legalnotice)},{path:"dashboard",loadComponent:()=>import("./chunk-O3RSWPBL.js").then(e=>e.Dashboard),canActivate:[S],resolve:{categories:ae}},{path:"video/:id",loadComponent:()=>import("./chunk-APYKAYVH.js").then(e=>e.VideoDetail),data:{prerender:!1,renderMode:"csr"},canActivate:[S],resolve:{video:A}},{path:"password-reset/:uid/:token",loadComponent:()=>import("./chunk-APPL5GVX.js").then(e=>e.PasswordReset),data:{prerender:!1,renderMode:"csr"},canActivate:[g]},{path:"forgot-password",loadComponent:()=>import("./chunk-7H6FSNOH.js").then(e=>e.ForgotPw),canActivate:[g]},{path:"player/:id",loadComponent:()=>import("./chunk-T2I3S5VE.js").then(e=>e.VideoPlayerComponent),data:{prerender:!1},canActivate:[S]}];var V={providers:[J(),q(),k(ee()),ie(se),oe(te())]};function de(e,o){if(e&1){let t=F();a(0,"button",4),m("click",function(){N(t);let i=E();return H(i.goToLogin())}),b(1," LogIn "),n()}}function le(e,o){if(e&1){let t=F();a(0,"button",4),m("click",function(){N(t);let i=E();return H(i.logOut())}),v(1,"img",5),b(2," LogOut "),n()}}var L=class e{constructor(o,t,r){this.router=o;this.authService=t;this.platformId=r}isLoggedIn=!1;currentUrl="";platformId;ngOnInit(){this.checkLoginStatus(),this.currentUrl=this.router.url,this.router.events.pipe(I(o=>o instanceof w)).subscribe(o=>{this.currentUrl=o.urlAfterRedirects,this.checkLoginStatus()})}checkLoginStatus(){if(y(this.platformId)){let o=localStorage.getItem("authToken");this.isLoggedIn=!!o}else this.isLoggedIn=!1}goToLogin(){this.router.navigate(["/login"])}goToStartpage(){this.router.navigate(["/"])}logOut(){this.authService.logOut()}static \u0275fac=function(t){return new(t||e)(s(p),s(_),s(f))};static \u0275cmp=h({type:e,selectors:[["app-header"]],decls:5,vars:2,consts:[[1,"headerSection"],["src","assets/img/Capa_1.svg","alt","Videoflix Logo",1,"mobileLogo",3,"click"],["src","assets/img/Logo.svg","alt","Videoflix Logo",1,"desktopLogo",3,"click"],["class","loginButton",3,"click",4,"ngIf"],[1,"loginButton",3,"click"],["src","../../assets/img/logout.svg","alt",""]],template:function(t,r){t&1&&(a(0,"section",0)(1,"img",1),m("click",function(){return r.goToStartpage()}),n(),a(2,"img",2),m("click",function(){return r.goToStartpage()}),n(),Z(3,de,2,0,"button",3)(4,le,3,0,"button",3),n()),t&2&&(u(3),l("ngIf",!r.isLoggedIn&&r.router.url!=="/login"),u(),l("ngIf",r.isLoggedIn&&(r.router.url==="/dashboard"||r.router.url==="/legalnotice"||r.router.url==="/imprint"||r.router.url.startsWith("/video/"))))},dependencies:[C,K],styles:[".headerSection[_ngcontent-%COMP%]{height:108px;max-width:1348px;width:100%;display:flex;justify-content:space-between;align-items:center;padding-inline:16px;padding-block:10px}.headerSection[_ngcontent-%COMP%]   .mobileLogo[_ngcontent-%COMP%]{display:block;height:32px;width:auto}.headerSection[_ngcontent-%COMP%]   .mobileLogo[_ngcontent-%COMP%]:hover{cursor:pointer}.headerSection[_ngcontent-%COMP%]   .desktopLogo[_ngcontent-%COMP%]{display:none;height:32px}.headerSection[_ngcontent-%COMP%]   .desktopLogo[_ngcontent-%COMP%]:hover{cursor:pointer}.headerSection[_ngcontent-%COMP%]   .loginButton[_ngcontent-%COMP%]{height:48px;background-color:#2e3edf;border:none;border-radius:40px;padding-inline:24px;padding-block:12px;gap:10px;font-size:18px;font-weight:700;color:#fff;display:flex;align-items:center}.headerSection[_ngcontent-%COMP%]   .loginButton[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#3d4dfc}@media screen and (min-width: 720px){.headerSection[_ngcontent-%COMP%]{padding-inline:96px}.mobileLogo[_ngcontent-%COMP%]{display:none!important}.desktopLogo[_ngcontent-%COMP%]{display:block!important}}"]})};var j=class e{constructor(o,t){this.router=o;this.platformId=t}isDashboard=!1;isMobile=!1;ngOnInit(){y(this.platformId)&&(this.isMobile=window.innerWidth<=720)}goToLegalnotice(){this.router.navigate(["/legalnotice"])}goToImprint(){this.router.navigate(["/imprint"])}static \u0275fac=function(t){return new(t||e)(s(p),s(f))};static \u0275cmp=h({type:e,selectors:[["app-footer"]],inputs:{isDashboard:"isDashboard"},decls:6,vars:1,consts:[[1,"footerSection",3,"ngClass"],[1,"link",3,"click"]],template:function(t,r){t&1&&(a(0,"section",0)(1,"div")(2,"p",1),m("click",function(){return r.goToLegalnotice()}),b(3,"Datenschutz"),n(),a(4,"p",1),m("click",function(){return r.goToImprint()}),b(5,"Impressum"),n()()()),t&2&&l("ngClass",r.isDashboard?"dashboard-footer":"footer")},dependencies:[C,x],styles:[".footerSection[_ngcontent-%COMP%]{height:43px;width:270px;padding:10px;gap:48px;display:flex;justify-content:center;align-items:center}.footerSection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;gap:48px}.footerSection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;font-weight:500;letter-spacing:0%;color:#fff}.footerSection[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}.dashboard-footer[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;padding-right:96px;background-color:#141414;text-align:right;z-index:1000;background:linear-gradient(180deg,#0000,#000000e6 50%);width:100%;display:flex;justify-content:center;height:104px}.dashboard-footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{max-width:1440px;display:flex;justify-content:end;width:100%}@media (max-width: 720px){.dashboard-footer[_ngcontent-%COMP%]{position:unset!important;width:100%!important;text-align:center!important;padding:0}.dashboard-footer[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{justify-content:center}}"]})};var me=e=>({"dashboard-align-start":e}),T=class e{constructor(o,t){this.router=o;this.platformId=t;y(this.platformId)&&this.router.events.pipe(I(r=>r instanceof w)).subscribe(r=>{let i=r.urlAfterRedirects;document.body.className="",i==="/"||i===""?document.body.classList.add("startpage-background"):i.startsWith("/login")||i.startsWith("/password-reset")||i.startsWith("/forgot-password")?document.body.classList.add("login-background"):i.startsWith("/signup")?document.body.classList.add("signup-background"):document.body.classList.add("background"),this.isDashboardRoute=i==="/dashboard"})}isDashboardRoute=!1;static \u0275fac=function(t){return new(t||e)(s(p),s(f))};static \u0275cmp=h({type:e,selectors:[["app-root"]],decls:5,vars:4,consts:[[1,"outlet",3,"ngClass"],[1,"footer",3,"isDashboard"]],template:function(t,r){t&1&&(a(0,"main"),v(1,"app-header"),a(2,"div",0),v(3,"router-outlet"),n(),v(4,"app-footer",1),n()),t&2&&(u(2),l("ngClass",$(2,me,r.isDashboardRoute)),u(2),l("isDashboard",r.isDashboardRoute))},dependencies:[re,j,L,C,x],styles:["main[_ngcontent-%COMP%]{background-size:cover;background-repeat:no-repeat;background-position:center;background-attachment:fixed;display:flex;flex-direction:column;min-height:100vh;align-items:center;width:100%}.footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.outlet[_ngcontent-%COMP%]{width:100%;max-width:1440px;flex:1;display:flex;align-items:center;justify-content:center}.outlet.dashboard-align-start[_ngcontent-%COMP%]{align-items:flex-start}app-header[_ngcontent-%COMP%]{width:100%;display:flex;z-index:1}app-player[_ngcontent-%COMP%]{width:100%}"]})};var D=class e{intercept(o,t){let r=localStorage.getItem("authToken");if(r){let i=o.clone({headers:o.headers.set("Authorization",`Token ${r}`)});return t.handle(i)}return t.handle(o)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=c({token:e,factory:e.\u0275fac})};Q(T,W(B({},V),{providers:[...V.providers||[],k(Y()),{provide:X,useClass:D,multi:!0}]})).catch(e=>console.error(e));
