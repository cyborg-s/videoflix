import{j as l}from"./chunk-EXH2BBGN.js";import{P as a,T as p,s}from"./chunk-AMTD2DMX.js";var c=class n{constructor(e){this.http=e}apiUrl="http://34.40.114.86:8000/api/videoflix/";getCategories(){return this.http.get(`${this.apiUrl}videos/`).pipe(s(e=>{if(!e||e.length===0)return[];let m={name:"New on Videoflix",movies:[...e].sort((t,o)=>new Date(o.upload_date).getTime()-new Date(t.upload_date).getTime()).slice(0,10).map(t=>({id:t.id,title:t.title,img:t.thumbnail,description:t.description}))},r={};for(let t of e)r[t.genre]||(r[t.genre]=[]),r[t.genre].push({id:t.id,title:t.title,img:t.thumbnail,description:t.description});let d=Object.entries(r).map(([t,o])=>({name:t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),movies:o}));return[m,...d]}))}getVideoById(e){return this.http.get(`${this.apiUrl}video/${e}/`)}getContinueWatching(){return this.http.get(`${this.apiUrl}video/continue/`)}saveProgress(e,i){return this.http.post(`${this.apiUrl}video/progress/`,{video_id:e,position_in_seconds:i})}static \u0275fac=function(i){return new(i||n)(p(l))};static \u0275prov=a({token:n,factory:n.\u0275fac,providedIn:"root"})};export{c as a};
